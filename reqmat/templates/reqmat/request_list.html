{% extends 'base.html' %}

{% block title %}Material Request List{% endblock %}

{% block header %}
    <h1 class="text-3xl font-semibold text-gray-800">Material Request Dashboard</h1>
{% endblock %}

{% block content %}
    <div class="my-4">
        <label for="request_type" class="block text-lg font-medium text-gray-700 mb-2">Create New Request:</label>
        <select id="request_type" class="mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md" onchange="location = this.value;">
            <option value="">Select Request Type</option>
            <option value="{% url 'reqmat:create_profit_request' %}">Profit Request</option>
            <option value="{% url 'reqmat:create_glass_request' %}">Glass Request</option>
            <option value="{% url 'reqmat:create_other_request' %}">Other Request</option>
        </select>
    </div>

    <div class="mt-6">
        <h2 class="text-xl font-bold text-gray-700">Profit Requests</h2>
        <ul class="mt-3 space-y-3">
            {% for request in requests.profit_requests %}
            <li class="p-4 bg-white rounded-lg shadow-md flex justify-between items-center">
                <span class="text-gray-600">{{ request.description }}</span>
                <span class="px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                    {{ request.status }}
                </span>
            </li>
            {% empty %}
            <p class="text-gray-500">No profit requests found.</p>
            {% endfor %}
        </ul>
    </div>

    <div class="mt-6">
        <h2 class="text-xl font-bold text-gray-700">Glass Requests</h2>
        <ul class="mt-3 space-y-3">
            {% for request in requests.glass_requests %}
            <li class="p-4 bg-white rounded-lg shadow-md flex justify-between items-center">
                <span class="text-gray-600">{{ request.dimensions }}</span>
                <span class="px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
                    {{ request.status }}
                </span>
            </li>
            {% empty %}
            <p class="text-gray-500">No glass requests found.</p>
            {% endfor %}
        </ul>
    </div>

    <div class="mt-6">
        <h2 class="text-xl font-bold text-gray-700">Other Requests</h2>
        <ul class="mt-3 space-y-3">
            {% for request in requests.other_requests %}
            <li class="p-4 bg-white rounded-lg shadow-md flex justify-between items-center">
                <span class="text-gray-600">{{ request.details }}</span>
                <span class="px-3 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                    {{ request.status }}
                </span>
            </li>
            {% empty %}
            <p class="text-gray-500">No other requests found.</p>
            {% endfor %}
        </ul>
    </div>

{% endblock %}
